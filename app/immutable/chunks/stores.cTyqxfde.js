import{w as t}from"./index.BVRMzLbl.js";import{C as e,I as i}from"./scheduler.DX2ogySE.js";const s=t(void 0),o={message:"Missing Toast Message",autohide:!0,timeout:5e3},n="toastStore";function r(){const t=i(n);if(!t)throw new Error("toastStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return t}function u(){const i=function(){const{subscribe:e,set:i,update:s}=t([]),n=t=>s((e=>{if(e.length>0){const i=e.findIndex((e=>e.id===t)),s=e[i];s&&(s.callback&&s.callback({id:t,status:"closed"}),s.timeoutId&&clearTimeout(s.timeoutId),e.splice(i,1))}return e}));function r(t){if(!0===t.autohide)return setTimeout((()=>{n(t.id)}),t.timeout)}return{subscribe:e,close:n,trigger:t=>{const e=function(){const t=Math.random();return Number(t).toString(32)}();return s((i=>{t&&t.callback&&t.callback({id:e,status:"queued"}),t.hideDismiss&&(t.autohide=!0);const s={...o,...t,id:e};return s.timeoutId=r(s),i.push(s),i})),e},freeze:t=>s((e=>(e.length>0&&clearTimeout(e[t].timeoutId),e))),unfreeze:t=>s((e=>(e.length>0&&(e[t].timeoutId=r(e[t])),e))),clear:()=>i([])}}();return e(n,i)}export{r as g,u as i,s};
